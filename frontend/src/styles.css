*{box-sizing:border-box;font-family:Inter,system-ui,"Segoe UI",Roboto,Arial,sans-serif}
body{margin:0;background:#0f172a;color:#e2e8f0;-webkit-font-smoothing:antialiased}

.app{width:100%;margin:16px auto;padding:0 20px 24px;text-align:center}

.app-header{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:16px;padding:14px 18px;background:rgba(15,23,42,0.6);backdrop-filter:blur(8px);border:1px solid rgba(148,163,184,0.12);border-radius:18px;box-shadow:0 24px 40px rgba(8,15,35,0.32)}
.brand{font-size:22px;font-weight:700;color:#f8fafc;letter-spacing:0.4px}
.header-actions{display:flex;align-items:center;gap:12px}
.status-chip{display:inline-flex;align-items:center;gap:6px;padding:6px 12px;border-radius:999px;font-size:13px;font-weight:600;text-transform:uppercase;letter-spacing:0.5px;background:rgba(59,130,246,0.12);color:#60a5fa}
.status-connected{background:rgba(34,197,94,0.12);color:#4ade80}
.status-disconnected{background:rgba(248,113,113,0.12);color:#fca5a5}
.role-pill{display:inline-flex;align-items:center;padding:6px 10px;border-radius:999px;font-size:12px;font-weight:600;text-transform:uppercase;background:rgba(15,118,110,0.18);color:#5eead4;letter-spacing:0.6px}
.user-info{display:flex;align-items:center;gap:10px}
.user-info button{background:#1e293b;border:1px solid rgba(148,163,184,0.2);padding:8px 14px;border-radius:10px;color:#e2e8f0;font-weight:600;box-shadow:0 14px 22px rgba(15,23,42,0.35)}
.user-info button:hover{background:#334155}

.menu-header{display:flex;justify-content:flex-end;margin-bottom:12px}
.logout-button{background:#1e293b;border:1px solid rgba(148,163,184,.2);padding:6px 12px;border-radius:8px;color:#e2e8f0;font-weight:600;font-size:13px;cursor:pointer;transition:all .2s ease}
.logout-button:hover{background:#334155}

.menu-footer{display:flex;justify-content:center;margin-top:12px}

.dashboard-layout{display:grid;grid-template-columns:1fr;gap:16px;align-items:start;width:100%;margin:0}
.dashboard-primary{display:flex;flex-direction:column;gap:12px;width:100%}
.dashboard-secondary{display:flex;flex-direction:column;gap:10px;position:fixed;right:0;top:0;width:250px;height:100vh;z-index:1000;background:rgba(15,23,42,0.95);backdrop-filter:blur(10px);padding:20px;overflow-y:auto}

.metric-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:12px}
.metric-grid-above-chart{margin-bottom:20px}
.metric-card{background:linear-gradient(135deg,rgba(15,118,110,0.45),rgba(14,165,233,0.25));border:1px solid rgba(148,163,184,0.18);padding:12px 14px;border-radius:16px;box-shadow:0 16px 30px rgba(8,47,73,0.35);display:flex;flex-direction:column;gap:4px;width:100%;min-width:0}
.metric-card .metric-label{font-size:12px;text-transform:uppercase;letter-spacing:1.8px;color:rgba(226,232,240,0.68)}
.metric-card .metric-value{font-size:22px;font-weight:700;color:#f8fafc}
.pnl-value.positive{color:#4ade80}
.pnl-value.negative{color:#f87171}
.pnl-value.neutral{color:#f8fafc}

.overall-pnl-card{background:linear-gradient(150deg,rgba(15,23,42,0.9),rgba(37,99,235,0.18))}
.pnl-chart-card{background:linear-gradient(145deg,rgba(15,23,42,0.88),rgba(14,165,233,0.18))}
.overall-pnl-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px}
.pnl-block{background:rgba(2,6,23,0.92);border:1px solid rgba(148,163,184,0.18);border-radius:16px;padding:14px 16px;display:flex;flex-direction:column;gap:4px;box-shadow:0 18px 28px rgba(8,15,35,0.35)}
.pnl-block .label{font-size:11px;text-transform:uppercase;letter-spacing:1.4px;color:rgba(148,163,184,0.72)}
.pnl-block .value{font-size:20px;font-weight:700;color:#f8fafc}
.pnl-block .value .tilde{color:#e2e8f0}
.pnl-block .value .positive{color:#4ade80}
.pnl-block .value .negative{color:#f87171}

.card{background:rgba(15,23,42,0.78);border:1px solid rgba(148,163,184,0.16);border-radius:18px;padding:14px 16px;box-shadow:0 22px 32px rgba(8,15,35,0.4);display:flex;flex-direction:column;gap:10px;width:100%;max-width:100%;min-width:0}
.card-heading{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:10px}
.card-heading h3{margin:0;font-size:18px;font-weight:700;color:#f1f5f9}

.current-position-card .card-heading h3{font-size:14px}

.current-position-card{gap:6px}

.chart-body{overflow:hidden;position:relative;height:100%}

.graph-card{padding:0;overflow:hidden;background:linear-gradient(150deg,rgba(15,23,42,0.9),rgba(37,99,235,0.16));flex:1 1 auto;display:flex;flex-direction:column}
.graph-heading{padding:20px 22px;border-bottom:1px solid rgba(148,163,184,0.12);display:flex;justify-content:space-between;align-items:center;gap:12px}
.graph-body{flex:1;min-height:0;display:flex;position:relative}
.graph-body .tradingview-widget-wrapper{height:100%;width:100%;flex:1;position:absolute;top:0;left:0;right:0;bottom:0}
.graph-body .tradingview-widget-container{height:100%;width:100%;position:relative}
.graph-body .tradingview-widget-container__widget{height:100%!important;width:100%!important;position:relative;min-height:380px}

.current-position-card{background:linear-gradient(145deg,rgba(15,23,42,0.88),rgba(2,132,199,0.18))}
.previous-position-card{background:linear-gradient(145deg,rgba(15,23,42,0.9),rgba(59,130,246,0.18))}
.status-card{background:linear-gradient(160deg,rgba(15,23,42,0.95),rgba(20,83,45,0.22))}
.events-card{background:linear-gradient(160deg,rgba(15,23,42,0.95),rgba(30,64,175,0.18))}
.admin-card{background:rgba(15,23,42,0.82)}

.position-side-pill{padding:6px 12px;border-radius:999px;font-size:13px;font-weight:600;text-transform:uppercase;letter-spacing:1px;color:#f8fafc;display:inline-flex;align-items:center;gap:6px}
.badge-long{background:rgba(34,197,94,0.2);color:#bbf7d0;border:1px solid rgba(34,197,94,0.45)}
.badge-short{background:rgba(248,113,113,0.2);color:#fecaca;border:1px solid rgba(248,113,113,0.45)}
.position-side-pill.long{background:rgba(34,197,94,0.2);color:#bbf7d0}
.position-side-pill.short{background:rgba(248,113,113,0.2);color:#fecaca}

.position-content{display:flex;flex-direction:row;gap:12px;align-items:center}
.position-header{display:flex;justify-content:space-between;flex-wrap:wrap;gap:14px}
.position-symbol{font-size:24px;font-weight:700;color:#f8fafc;letter-spacing:1px}
.position-price{font-size:15px;font-weight:600;color:#bae6fd}

.muted{color:rgba(148,163,184,0.78);font-size:13px}
.empty-state{padding:22px;background:rgba(15,23,42,0.6);border-radius:14px;border:1px dashed rgba(148,163,184,0.28);text-align:center;font-size:15px;line-height:1.5;color:rgba(226,232,240,0.72)}


.position-hero{display:flex;flex-direction:row;gap:4px;padding:4px 8px !important;border-radius:18px;background:transparent;border:none;box-shadow:none;flex:1;align-items:center;justify-content:center;position:relative}
.position-hero-main{display:flex;align-items:baseline;gap:14px;flex-wrap:wrap}
.side-badge{display:inline-flex;align-items:center;justify-content:center;min-width:64px;padding:8px 14px;border-radius:12px;font-size:13px;font-weight:700;letter-spacing:1.6px;text-transform:uppercase;margin-bottom:4px !important;position:absolute;left:8px;top:50%;transform:translateY(-50%)}
.badge-long{background:rgba(34,197,94,0.22);color:#bbf7d0;border:1px solid rgba(34,197,94,0.45)}
.badge-short{background:rgba(248,113,113,0.22);color:#fecaca;border:1px solid rgba(248,113,113,0.45)}
.hero-symbol{font-size:28px;font-weight:800;color:#f8fafc;letter-spacing:1.6px}
.hero-size{font-size:18px;font-weight:600;color:rgba(226,232,240,0.85)}
.hero-size.hero-size-usd{font-size:16px;color:#facc15;font-weight:600}
.hero-stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:14px;justify-content:center;max-width:400px;margin:0 auto}
.hero-stat{background:transparent;border:none;border-radius:16px;padding:12px 14px;display:flex;flex-direction:column;gap:6px;box-shadow:none;width:100%;min-width:0}
.hero-stat .stat-label{font-size:11px;letter-spacing:1.4px;text-transform:uppercase;color:rgba(148,163,184,0.7);text-align:center}
.hero-stat .stat-value{font-size:18px;font-weight:700;color:#f8fafc;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%;text-align:center}
.hero-stat.total.positive .stat-value{color:#4ade80}
.hero-stat.total.negative .stat-value{color:#f87171}
.hero-stat.stat-missing{opacity:0.65}
.hero-stat.liquidation .stat-value{color:#facc15}
.hero-stat.liquidation .stat-label::after{content:" ⚠";color:#facc15}
.hero-stat.pnl.positive .stat-value{color:#4ade80}
.hero-stat.pnl.negative .stat-value{color:#f87171}
.hero-stat.roe.positive .stat-value{color:#4ade80}
.hero-stat.roe.negative .stat-value{color:#f87171}
.hero-stat.roi.positive .stat-value{color:#4ade80}
.hero-stat.roi.negative .stat-value{color:#f87171}
.hero-stat .stat-subvalue{font-size:13px;color:rgba(148,163,184,0.76);line-height:1.2}
.hero-stat.pnl .stat-subvalue{color:inherit}
.hero-stat .stat-subvalue.muted{color:rgba(148,163,184,0.68)}
.pnl-block.negative .value{color:#f87171}
.pnl-block .subvalue{font-size:13px;color:rgba(148,163,184,0.74);display:block;margin-top:4px}

.roi{font-size:0.75rem;opacity:0.8}
.roe{font-size:0.75rem;opacity:0.8}

.position-metric-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:8px;margin-top:10px !important;flex:1}

.toolbar{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}

.refresh-btn{background:transparent;border:1px solid rgba(255,255,255,0.3);border-radius:8px;color:#e2e8f0;padding:8px 16px;font-weight:600;display:flex;align-items:center;gap:8px;cursor:pointer;transition:all 0.2s ease}
.refresh-btn:hover{background:rgba(255,255,255,0.05);border-color:rgba(255,255,255,0.5)}
.symbol-toggle{background:transparent;border:1px solid rgba(255,255,255,0.3);border-radius:8px;color:rgba(226,232,240,0.7);padding:8px 16px;font-weight:600;display:flex;align-items:center;cursor:pointer;transition:all 0.2s ease;text-transform:uppercase;letter-spacing:0.8px}
.symbol-toggle:hover:not(.active){background:rgba(255,255,255,0.05);border-color:rgba(255,255,255,0.5)}
.symbol-toggle.active{background:rgba(96,165,250,0.1);color:#60a5fa;border-color:rgba(255,255,255,0.6)}
.refresh-btn .refresh-icon{font-size:16px}

.positions-grid{display:flex;gap:2px;align-items:stretch;flex-wrap:wrap;max-width:100%;justify-content:center}
.positions-grid .card{flex:1 1 100%;min-width:100%;max-width:100%;padding:6px 8px}
.position-metric-grid.compact{grid-template-columns:repeat(auto-fit,minmax(140px,1fr))}
.position-metric{background:rgba(15,23,42,0.7);border:1px solid rgba(148,163,184,0.12);border-radius:14px;padding:12px 14px;display:flex;flex-direction:column;gap:6px;box-shadow:0 12px 22px rgba(8,15,35,0.26)}
.position-metric .label{font-size:12px;text-transform:uppercase;letter-spacing:1.5px;color:rgba(148,163,184,0.7)}
.position-metric .value{font-size:17px;font-weight:600;color:#f8fafc;display:flex;align-items:center;gap:8px}
.metric-positive .value{color:#4ade80}
.metric-negative .value{color:#f87171}

.status-summary{display:flex;flex-direction:column;gap:16px}
.status-metric{display:flex;justify-content:space-between;align-items:center;background:rgba(15,23,42,0.55);padding:10px 14px;border-radius:12px;border:1px solid rgba(148,163,184,0.12)}
.status-metric .label{font-size:12px;letter-spacing:1.2px;color:rgba(148,163,184,0.7)}
.status-metric .value{font-size:16px;font-weight:600;color:#f1f5f9}

.events-card .card-heading h3::before{content:"⚡";margin-right:6px}
.eventsList{max-height:260px;overflow-y:auto;padding-right:8px;display:flex;flex-direction:column;gap:10px}
.eventsList::-webkit-scrollbar{width:6px}
.eventsList::-webkit-scrollbar-thumb{background:rgba(148,163,184,0.25);border-radius:999px}
.eventsList .evt{padding:10px 12px;border-radius:12px;background:rgba(15,23,42,0.68);border:1px solid rgba(148,163,184,0.1);font-size:13px;line-height:1.5;color:#e2e8f0;box-shadow:0 10px 20px rgba(8,15,35,0.25)}
.events-empty{padding:30px 12px;text-align:center;color:rgba(148,163,184,0.7);font-size:14px}

.link-button{background:transparent!important;border:none!important;color:#60a5fa;text-decoration:none;padding:6px 0;font-size:13px;font-weight:600;cursor:pointer}
.link-button:hover{color:#93c5fd}

.form-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:14px}
.field{display:flex;flex-direction:column;gap:6px;color:#e2e8f0;font-size:13px}
.field-label{text-transform:uppercase;letter-spacing:1.2px;color:rgba(148,163,184,0.72)}

.card input,
.card select,
.card textarea{background:rgba(10,12,24,0.92);border:1px solid rgba(148,163,184,0.18);color:#e2e8f0;padding:10px 12px;border-radius:12px;font-size:14px;transition:border-color 0.2s ease,box-shadow 0.2s ease}
.card input::placeholder{color:rgba(148,163,184,0.5)}
.card select{appearance:none;background-image:url("data:image/svg+xml,%3Csvg width='16' height='10' viewBox='0 0 16 10' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M14.59 0.58L8 7.17L1.41 0.58L0 2L8 10L16 2L14.59 0.58Z' fill='%2360a5fa'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 12px center;background-size:14px}
.card input:focus,
.card select:focus,
.card textarea:focus{outline:none;border-color:#38bdf8;box-shadow:0 0 0 3px rgba(56,189,248,0.18)}

.form-actions{display:flex;flex-wrap:wrap;gap:10px}
.ghost-button{background:rgba(148,163,184,0.12)!important;color:#94a3b8!important;border:1px solid rgba(148,163,184,0.25)!important}
.ghost-button:hover{color:#f1f5f9!important;border-color:rgba(148,163,184,0.4)!important}

button{background:linear-gradient(135deg,#2563eb,#22d3ee);color:#f8fafc;border:none;padding:10px 18px;border-radius:12px;font-weight:600;font-size:14px;cursor:pointer;transition:transform 0.2s ease,box-shadow 0.2s ease,filter 0.2s ease;box-shadow:0 18px 28px rgba(15,23,42,0.35)}
button:hover{transform:translateY(-1px);filter:brightness(1.05)}
button:disabled{opacity:0.6;cursor:not-allowed;filter:none;transform:none}

.auth-wrapper{min-height:100vh;display:flex;align-items:center;justify-content:center;background:radial-gradient(circle at top,#1d4ed8 0%,rgba(15,23,42,0.92) 45%,#020617 100%);padding:36px}
.auth-card{width:100%;max-width:360px;background:rgba(15,23,42,0.85);border:1px solid rgba(148,163,184,0.18);border-radius:20px;padding:32px;display:flex;flex-direction:column;gap:16px;box-shadow:0 28px 46px rgba(8,15,35,0.45)}
.auth-card h2{margin:0;color:#f8fafc;font-size:24px;font-weight:700;text-align:center}
.auth-card input{background:rgba(2,6,23,0.92);border:1px solid rgba(148,163,184,0.2);color:#f1f5f9;padding:12px 14px;border-radius:12px;font-size:15px}
.auth-card button{width:100%;padding:12px;border-radius:12px;font-size:15px}
.auth-card button:disabled{opacity:0.7;cursor:wait}
.auth-error{background:rgba(248,113,113,0.18);border:1px solid rgba(248,113,113,0.35);color:#fecaca;padding:10px 12px;border-radius:12px;font-size:14px;text-align:center}
.auth-meta{text-align:center;font-size:13px;color:rgba(148,163,184,0.7)}

.trades{width:100%;min-width:100%;border-collapse:collapse;border-radius:18px;overflow:hidden;table-layout:fixed}
.pagination-info{font-size:13px;color:rgba(148,163,184,0.7);text-align:center;flex:1}
.pagination-controls{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-top:14px;padding:12px 0;border-top:1px solid rgba(148,163,184,0.12)}
.pagination-btn{background:rgba(148,163,184,0.15);border:1px solid rgba(148,163,184,0.25);color:#94a3b8;padding:8px 14px;border-radius:8px;font-size:13px;font-weight:600;cursor:pointer;transition:all 0.2s ease}
.pagination-btn:hover:not(:disabled){background:rgba(148,163,184,0.25);color:#f1f5f9;border-color:rgba(148,163,184,0.4)}
.pagination-btn:disabled{opacity:0.5;cursor:not-allowed}
.trades thead{background:rgba(148,163,184,0.12)}
.trades th{padding:14px 16px;text-align:left;font-size:13px;text-transform:uppercase;letter-spacing:1.4px;color:rgba(226,232,240,0.7)}
.trades td{padding:14px 16px;font-size:14px;color:#f8fafc;border-bottom:1px solid rgba(148,163,184,0.08)}
.trades td.positive{color:#4ade80;font-weight:600}
.trades td.negative{color:#f87171;font-weight:600}
.table-card{overflow:hidden}
.table-scroller{width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}
.table-scroller::-webkit-scrollbar{height:6px}
.table-scroller::-webkit-scrollbar-thumb{background:rgba(148,163,184,0.25);border-radius:999px}
.table-scroller:focus-visible{outline:2px solid rgba(59,130,246,0.4);outline-offset:2px}
.trades tbody tr:hover{background:rgba(30,64,175,0.14)}

.trades td.symbol-cell{white-space:nowrap}
.trades td.symbol-cell strong{display:block}
.trades td.symbol-cell .id{font-size:12px;opacity:0.75}

@media (max-width:640px){
	.trades thead{display:none}
	.trades{table-layout:auto}
	.trades tbody tr{display:grid;grid-template-columns:minmax(0,1fr);gap:6px;padding:12px 14px;border-bottom:1px solid rgba(148,163,184,0.1)}
	.trades tbody tr td{border:none;padding:0;font-size:13px;display:flex;justify-content:space-between;gap:10px}
	.trades tbody tr td::before{content:attr(data-label);font-weight:600;color:rgba(148,163,184,0.8);text-transform:uppercase;font-size:11px;letter-spacing:1px}
	.trades tbody tr td.symbol-cell{flex-direction:column;align-items:flex-start}
	.trades tbody tr td.symbol-cell::before{content:"Symbol"}
	.trades tbody tr td .id{order:2}
	.trades tbody tr td.symbol-cell strong{order:1}
	.trades tbody tr td.symbol-cell .muted{order:0}
}

.scroll-area{max-height:220px;overflow:auto;background:rgba(2,6,23,0.9);border:1px solid rgba(148,163,184,0.12);border-radius:12px;padding:12px;color:#94a3b8;font-size:13px}
.scroll-area::-webkit-scrollbar{width:6px}
.scroll-area::-webkit-scrollbar-thumb{background:rgba(148,163,184,0.25);border-radius:999px}

.query-output{display:flex;flex-direction:column;gap:10px}

.status-open{color:#34d399;font-weight:600}
.status-closed{color:#f87171;font-weight:600}
.status-signal{color:#facc15;font-weight:600}
.status-pending{color:#60a5fa;font-weight:600}
.status-error{color:#f87171;font-weight:600}

@media (min-width:1101px){
	.dashboard-secondary{display:flex}
	.sidebar-toggle{display:flex}
	.dashboard-secondary.collapsed{display:none}
	.dashboard-secondary.expanded{display:flex}
}

@media (max-width:1100px){
	.dashboard-layout{grid-template-columns:1fr;gap:18px}
	.dashboard-secondary{position:fixed;right:0;top:0;width:250px;height:100vh;z-index:1000;background:rgba(15,23,42,0.95);backdrop-filter:blur(10px);padding:20px;overflow-y:auto}
	.sidebar-toggle{display:flex}
	.dashboard-secondary.collapsed{display:none}
	.dashboard-secondary.expanded{display:flex}
}

@media (max-width:768px){
	.app{margin:24px auto;padding:0 16px 36px}
	.app-header{flex-direction:column;align-items:flex-start;gap:16px;padding:16px 18px}
	.header-actions{width:100%;justify-content:space-between}
	.dashboard-layout{gap:16px}
	.metric-grid{grid-template-columns:repeat(2,1fr)}
	.card{padding:18px 16px}
	.position-symbol{font-size:20px}
	.hero-symbol{font-size:24px}
	.hero-size{font-size:16px}
	.hero-stats{grid-template-columns:repeat(auto-fit,minmax(150px,1fr))}
	.positions-grid{flex-direction:column}
	.sidebar-toggle{display:flex}
	.dashboard-secondary{position:fixed;right:0;top:0;width:250px;height:100vh;z-index:1000;background:rgba(15,23,42,0.95);backdrop-filter:blur(10px);padding:20px;overflow-y:auto}
	.dashboard-secondary.collapsed{display:none}
	.dashboard-secondary.expanded{display:flex}
}

@media (max-width:600px){
	body{background:#020617;zoom:0.75}
	.app{padding:0 14px 32px}
	.app-header{border-radius:16px;box-shadow:0 16px 24px rgba(8,15,35,0.35)}
	.metric-grid{grid-template-columns:1fr}
	.position-metric-grid{grid-template-columns:repeat(auto-fit,minmax(140px,1fr))}
	.form-grid{grid-template-columns:1fr}
	.status-summary{gap:12px}
	.eventsList{max-height:200px}
	.card{gap:12px}
	button{width:100%}
	.form-actions{flex-direction:column}
	.hero-symbol{font-size:22px}
	.hero-size{font-size:15px}
	.position-hero{padding:16px}
	.position-hero-main{flex-direction:column;align-items:flex-start;gap:8px}
	.hero-stats{grid-template-columns:repeat(auto-fit,minmax(140px,1fr))}

	/* P&L Chart mobile optimizations */
	.pnl-chart-card .chart-body{height:200px}
	.pnl-chart-card svg{height:180px}
	.pnl-chart-card .y-axis-label{font-size:10px}
	.pnl-chart-card .x-axis-label{font-size:10px;margin-top:10px}
	.pnl-chart-card .tooltip{font-size:12px}

	/* Position cards smaller on mobile - improved to prevent collapsing */
	.position-card{font-size:11px}
	.position-hero .hero-symbol{font-size:16px}
	.position-hero .hero-size{font-size:12px}
	.hero-stat .stat-value{font-size:13px}
	.hero-stat .stat-label{font-size:9px}
	.position-metric .label{font-size:9px}
	.position-metric .value{font-size:13px}
	.position-metric-grid{grid-template-columns:repeat(auto-fit,minmax(110px,1fr));gap:6px;margin-top:8px !important}
	.positions-grid .card{padding:4px 6px}
	.current-position-card .card-heading h3{font-size:12px}
	.position-symbol{font-size:16px}
	.hero-symbol{font-size:20px}
	.hero-size.hero-size-usd{font-size:14px}
	.hero-stats{grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:10px}
	.position-metric{background:rgba(15,23,42,0.5);border-radius:12px;padding:8px 10px;border:1px solid rgba(148,163,184,0.15);box-shadow:0 8px 16px rgba(8,15,35,0.2)}
	.position-metric .value{font-size:15px}
	.position-metric .label{font-size:11px}
	.position-hero{padding:12px 16px !important;border-radius:16px;margin-bottom:12px !important}
	.positions-grid{flex-direction:column;gap:8px}
	.positions-grid .card{flex:1 1 100%;min-width:100%;max-width:100%;margin-bottom:6px}
	.position-content{display:flex;flex-direction:column;gap:8px !important}
	.position-header{display:flex;flex-direction:column;gap:8px}
	.position-hero-main{flex-direction:column;gap:8px}
	.side-badge{position:absolute;left:12px;top:12px;min-width:60px;padding:6px 10px;border-radius:10px;font-size:11px;font-weight:700}
	.hero-stats{justify-content:center;margin-top:8px}
	.muted{font-size:11px;margin-top:8px}

	/* Mobile specific BUY/SELL badge positioning above close button */
	@media (max-width: 600px) {
		.position-hero .hero-stats{display:flex;flex-direction:column;gap:10px;margin-top:40px !important}
		.position-hero .hero-stat.pnl{text-align:left;margin-bottom:6px}
		.position-hero .hero-stat .stat-value{font-size:15px;font-weight:700}
		.position-hero .hero-stat .stat-label{font-size:10px;margin-bottom:2px}
		.position-hero .side-badge{position:absolute;top:8px;left:50%;transform:translateX(-50%);font-size:14px;padding:8px 14px;border-radius:12px;border:2px solid rgba(255,255,255,0.4);box-shadow:0 4px 10px rgba(0,0,0,0.3);font-weight:700;letter-spacing:1px;z-index:10}
		.close-position-button{margin-top:8px !important;padding:8px 16px;border-radius:8px;font-size:13px}
		.position-metric-grid{margin-top:12px !important;gap:6px}
		.position-metric{height:50px;padding:10px 12px;border-radius:10px}
		.position-metric .label{font-size:10px;margin-bottom:2px}
		.position-metric .value{font-size:14px}
	}
}

@media (max-width:420px){
	.app-header{padding:14px 16px}
	.brand{font-size:20px}
	.metric-card{padding:14px 16px}
	.position-symbol{font-size:18px}
	.hero-symbol{font-size:20px}
	.hero-stats{grid-template-columns:repeat(auto-fit,minmax(130px,1fr))}
	.trades th,.trades td{padding:12px 10px;font-size:13px}
}

@media (max-width:480px){
	.dashboard-layout{gap:12px}
	.metric-grid{grid-template-columns:1fr}
	.hero-stats{grid-template-columns:1fr}
	.trades th,.trades td{font-size:12px}
}

.symbol-selector {
	display: flex;
	align-items: center;
	gap: 8px;
	justify-content: flex-start;
}

.toggle-container {
	display: flex !important;
	flex-direction: row !important;
	gap: 8px;
  border-radius: 8px;
  overflow: hidden;
  background: transparent;
  border: none;
  box-shadow: none;
  flex-wrap: nowrap !important;
  align-items: center;
}

.toggle-container button.symbol-toggle {
	background: transparent !important;
	background-color: transparent !important;
	border: 1px solid rgba(255, 255, 255, 0.3);
	color: rgba(226, 232, 240, 0.7);
	padding: 6px 10px;
	font-size: 12px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  text-transform: uppercase;
  letter-spacing: 0.8px;
  position: relative;
	border-radius: 6px;
  margin: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  white-space: nowrap;
  flex-shrink: 0;
}

.toggle-container button.symbol-toggle.active {
  background: rgba(96, 165, 250, 0.1) !important;
  color: #60a5fa;
  border: 1px solid rgba(255, 255, 255, 0.6);
}

.toggle-container button.symbol-toggle:hover:not(.active) {
  background: rgba(255, 255, 255, 0.05) !important;
  color: #e2e8f0;
  border: 1px solid rgba(255, 255, 255, 0.5);
  transform: translateY(-1px);
}
/* Signal tag colors for LONG/SHORT */
.signal-tag {
  padding: 4px 8px;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.8px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 50px;
}

.signal-long {
  background: rgba(34, 197, 94, 0.2);
  color: #bbf7d0;
  border: 1px solid rgba(34, 197, 94, 0.45);
}

.signal-short {
  background: rgba(248, 113, 113, 0.2);
  color: #fecaca;
  border: 1px solid rgba(248, 113, 113, 0.45);
}

/* Current positions LONG/SHORT tag colors */
.badge-long {
  background: rgba(34, 197, 94, 0.22);
  color: #bbf7d0;
  border: 1px solid rgba(34, 197, 94, 0.45);
}

.badge-short {
  background: rgba(248, 113, 113, 0.22);
  color: #fecaca;
  border: 1px solid rgba(248, 113, 113, 0.45);
}

.dashboard-secondary .positions-grid{display:none}
